dd2 <- lapply(dd1[, date])
dd2 <- lapply( weekdays( dd1[, date]) )
dd2
dd1 <- activity
head(dd1)
head(activity)
dd2 <- dd1[, day := lapply(.SD weekdays()), .SDcols = c("date")]
dd1
dd2 <- dd1[, day := lapply(.SD, weekdays()), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, weekdays(z)), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, weekdays(.SD)), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, weekdays(dd1$date)), .SDcols = c("date")]
dd2 <- dd1[, day := lapply( weekdays( dd1$date) )]
dd2 <- dd1[, day := lapply(.SD, function(z) weekdays(), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, function(z) weekdays()), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, weekdays(x)), .SDcols = c("date")]
dd2 <- dd1[, date]
str(dd2)
dd2[weekdays()]
dd2[weekdays(x)]
dd2[weekdays(dd2)]
library(lubridate)
dd2[weekdays(dd2)]
library(dates)
weekdays(2012-11-28)
dd2[weekdays(dd2$date)]
head(dd2)
lapply(dd2, weekdays())
lapply(dd2, weekdays)
sapply(dd2, weekdays)
sapply(dd2, weekdays())
sapply(dd2, weekdays(dd2))
library(date)
wday(2012-12-28)
wday("2012-12-28")
wday("2012-12-28", label = TRUE)
sapply(dd2, wday(LABEL = TRUE)
wday("2012-12-28"))
lapply( dd2, wday(LABEL = TRUE) )
dd2
lapply( dd2, wday() )
wday(dd2)
wday(dd2, label = TRUE)
dd2 <- dd1[, day := lapply(.SD, wday, .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, wday), .SDcols = c("date")]
dd2
dd2 <- dd1[, day := lapply(.SD, wday(label = TRUE)), .SDcols = c("date")]
dd2
dd2 <- dd1[, day := lapply(.SD, wday(,label = TRUE)), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, wday(x,label = TRUE)), .SDcols = c("date")]
dd2 <- dd1[, day := lapply(.SD, wday()), .SDcols = c("date")]
dd2 <- dd1[, date]
wday(dd2, label = TRUE)
dd2 <- dd1[, date]
dd2 <- wday(dd2, label = TRUE)
head(dd2)
gsub("mon" | "tue", "weekday", dd2, ignore.case=TRUE)
gsub("mon" || "tue", "weekday", dd2, ignore.case=TRUE)
gsub("mon | tue", "weekday", dd2, ignore.case=TRUE)
gsub("mon | tue | wed | thu | fri", "weekday", dd2, ignore.case=TRUE)
head(dd2)
dd3 <- gsub("mon | tue | wed | thu | fri", "weekday", dd2, ignore.case=TRUE)
head(dd3)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
head(dd3)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("fri", weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd2, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd2, ignore.case=TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd2, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd2, ignore.case=TRUE)
head(dd3)
dd2 <- dd1[, date]
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd2, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd2, ignore.case=TRUE)
head(dd3)
dd2 <- wday(dd2, label = TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd2, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd2, ignore.case=TRUE)
head(dd3)
head(dd2)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
head(dd3)
dd3 <- gsub("tue", "weekday", dd2, ignore.case=TRUE)
head(dd3)
dd2 <- wday(dd2, label = TRUE)
dd2 <- dd1[, date]
dd2 <- wday(dd2, label = TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd3, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd3, ignore.case=TRUE)
head(dd3)
tail(dd3)
sum(dd3(weekend))
sum(dd3[weekend])
sum(dd3$weekend)
dd3[50]
dd3[51]
dd3[53]
dd3[55]
dd3[56]
dd3[57]
dd3[58]
dd3[59]
View(dd3)
match("weekend", dd3)
dd3[1441]
match("Sun", dd3)
match("sun", dd3)
which(dd3 %in% c("weekend"))
dd3[4537]
dd3[16057]
dd3[15769]
dim(dd2)
dim(dd3)
length(dd2)
length(dd3)
dim(stepsPerDayImpData)
dim(activity)
dd4 <- cbind(activity, dd3)
head(dd4)
is.na(activity)
sum(is.na(activity))
head(activity)
head(dd3)
head(dd4)
setkey(dd4, interval, dd3)
japan <- dd4[ , mean(steps), by = (interval & dd3)]
japan <- dd4[ , mean(steps), by = (interval && dd3)]
head(japan)
japan <- dd4[ , mean(steps), by = (interval + dd3)]
japan <- dd4[ , mean(steps), by = interval, by = dd3]
japan <- dd4[ , mean(steps), by = c("interval", "dd3")]
head(japan)
head(dd2)
dd2 <- dd1[, date]
dd2 <- wday(dd2, label = TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd3, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd3, ignore.case=TRUE)
dd4 = dd3
setkey(dd4, interval, dd3)
head(dd4)
dd4 = cbind(activity, dd3)
head(dd4)
setnames(dd4, c("steps", "date", "interval", "day", "wday"))
head(dd4)
setkey(dd4, interval, wday)
japan <- dd4[ , mean(steps), by = c("interval", "wday")]
head(japan)
dd2 <- dd1[, day := lapply(.SD, wday()), .SDcols = c("date")]
head(dd1)
head(activity)
activity[, day := NULL]
head(activity)
dd1 = activity
dd2 <- dd1[, date]
dd2 <- wday(dd2, label = TRUE)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd3, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd3, ignore.case=TRUE)
head(dd3)
dd4 = cbind(activity, dd3)
head(dd4)
setnames(dd4, c("steps", "date", "interval", "wday"))
setkey(dd4, interval, wday)
japan <- dd4[ , mean(steps), by = c("interval", "wday")]
head(japan)
head(dd3)
head9activity
head(activity)
tail(activity)
which(dd3 %in% c"weekdays")
which(dd3 %in% c("weekdays"))
sum(which(dd3 %in% c("weekdays")))
dd3[16573]
rm(dd3)
dim(dd3)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
dd3 <- gsub("tue", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("thurs", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd3, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd3, ignore.case=TRUE)
sum(which(dd3 %in% c("weekdays")))
dd3[16573]
head(dd3)
tail(dd3)
dim(dd3)
length(dd3)
match( c("weekdays"), dd3)
dd3[289]
dd1 = activity
dd2 <- dd1[, date]
dd2 <- wday(dd2, label = TRUE)
match( c("weekdays"), dd2)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
match( c("weekdays"), dd3)
dd3 <- gsub("tue", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
match( c("weekdays"), dd3)
sum(which(dd3 %in% c("weekdays")))
which(dd3 %in% c("weekdays"))
dd3[16693]
head(which(dd3 %in% c("weekdays")))
dd2 <- dd1[, date]
head(dd2)
dd2 <- wday(dd2, label = TRUE)
head(dd2)
dd3 <- gsub("mon", "weekday", dd2, ignore.case=TRUE)
match( c("weekdays"), dd3)
dd3 <- gsub("tues", "weekday", dd3, ignore.case=TRUE)
match( c("weekdays"), dd3)
dd3 <- gsub("wed", "weekday", dd3, ignore.case=TRUE)
match( c("weekdays"), dd3)
dd3 <- gsub("thurs", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("fri", "weekday", dd3, ignore.case=TRUE)
dd3 <- gsub("sat", "weekend", dd3, ignore.case=TRUE)
dd3 <- gsub("sun", "weekend", dd3, ignore.case=TRUE)
match( c("weekdays"), dd3)
dd4 = cbind(activity, dd3)
setnames(dd4, c("steps", "date", "interval", "wday"))
setkey(dd4, interval, wday)
japan <- dd4[ , mean(steps), by = c("interval", "wday")]
head(japan)
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_grid(.~wday)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_grid(.~wday)
scale_x_continuous(breaks = seq(0,2355,50)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_grid(.~wday)
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_grid(.~wday)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_grid(wday ~.)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(wday ~.)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=1)
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=1, scales = free_x)
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=1, scales = "fixed")
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=2)
p
p <- ggplot(data = japan, aes(x = interval, y = V1)) +
geom_line() +
facet_wrap(~wday, ncol=1)
p
head(activity)
dateVector <- activity[, date]
str(dateVector)
dateVector <- wday(dateVector, label = TRUE)
head(dateVector)
dateVector <- gsub("mon", "weekday", dateVector, ignore.case=TRUE)
dateVector <- gsub("tues", "weekday", dateVector, ignore.case=TRUE)
dateVector <- gsub("wed", "weekday", dateVector, ignore.case=TRUE)
dateVector <- gsub("thurs", "weekday", dateVector, ignore.case=TRUE)
dateVector <- gsub("fri", "weekday", dateVector, ignore.case=TRUE)
dateVector <- gsub("sat", "weekend", dateVector, ignore.case=TRUE)
dateVector <- gsub("sun", "weekend", dateVector, ignore.case=TRUE)
head(dateVector)
str(dateVector)
head(activity)
activity <- cbind(activity, dateVector)
str(activity)
sapply(activity, mode)
sapply(activity, class)
transform(activity, dateVector = as.factor(dateVector))
sapply(activity, class)
mm <- transform(activity, dateVector = as.factor(dateVector))
sapply(mm, class)
rm(mm)
activity <- transform(activity, dateVector = as.factor(dateVector))
sapply(activity, class)
names(activity)[4] <- "wday"
names(activity)
head(activity)
setnames(activity, c("wday"), c("bubba"))
head(activity)
setnames(activity, c("bubba"), c("wday"))
weekWeekendActivity <- activity[ , mean(steps), by = c("interval", "wday")]
head(weekWeekendActivity)
setnames(weekWeekendActivity, c("V1"), c("steps"))
head(weekWeekendActivity)
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,50)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,500)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100)) +
scale_y_continuous(trans = 'reverse') +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100)) +
scale_x_continuous(trans = 'reverse') +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
scale_x_continuous(breaks = seq(0,2355,100), trans = 'reverse') +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
mean
mean <- stepsPerDay[, mean(steps_per_day)]
mean
head(stepsPerDay)
sum(is.na(activityProcessed))
stepsPerDay <- activityProcessed[ , sum(steps), by = date]
sum(is.na(stepsPerDay))
head9activity
head(activity)
head(activity)
head(stepsPerDay)
activity <- data.table(read.csv(file = "./activity.csv", sep=",", header = TRUE))
activityProcessed <- activity[complete.cases(activity),]
activityProcessed <- activityProcessed[, date := as.Date(date)]
stepsPerDay <- activityProcessed[ , sum(steps), by = date]
setnames(stepsPerDay, c("date", "steps_per_day"))
mean <- stepsPerDay[, mean(steps_per_day)]
mean
median <- stepsPerDay[, median(steps_per_day)]
median
mean <- stepsPerDay[, mean(steps_per_day)]
mean
sum(is.na(activityProcesses))
sum(is.na(activityProcessed))
stepsPerDay <- activityProcessed[ , sum(steps), by = date]
setnames(stepsPerDay, c("date", "steps_per_day"))
names(stepsPerDay)
mean <- stepsPerDay[, mean(steps_per_day)]
mean
median <- stepsPerDay[, median(steps_per_day)]
median
median <- stepsPerDay[, median(steps_per_day)]
median
head(stepsPerDay)
mean1 <- stepsPerDay[, mean(steps_per_day)]
mean1
WD <- c("C:/Users/20537710/Documents/Coursera/Reproducible Research/Assignment-1/RepData_PeerAssessment1")
setwd(WD)
knit2html("PA1_template.Rmd")
activity <- data.table(read.csv(file = "./activity.csv", sep=",", header = TRUE)
)
activityProcessed <- activity[complete.cases(activity),]
stepsPerDay <- activityProcessed[ , sum(steps), by = date]
head(stepsPerDay)
stepsPerDay[, mean(V1)]
stepsPerDay[, median(V1)]
mean1 <- stepsPerDay[, mean(steps_per_day)]
setnames(stepsPerDay, c("date", "steps_per_day"))
mean1 <- stepsPerDay[, mean(steps_per_day)]
mean1
median1 <- stepsPerDay[, median(steps_per_day)]
median1
knit2html("PA1_template.Rmd")
str(stepsPerDay)
head(stepsPerDay)
head(activityProcessed)
head(activityProcessed, 10)
head(stepsPerDay)
head(activityProcessed, 10)
activityProcessed[, mean(steps)]
dim(activityProcessed)
mean1 <- stepsPerDay[, mean(steps_per_day)]
mean1
stepsPerDay[, mean(steps_per_day, na.rm = T)]
str(activityProcessed)
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
geom_line(stat = 'hline', yintercept = 'mean', color = 'blue') +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
geom_line(stat = 'hline', yintercept = 'mean', color = 'blue') +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1, linetype = 2)) +
facet_wrap(~wday, ncol=1)
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
geom_line(stat = 'hline', yintercept = 'mean', color = 'blue', , linetype = 2) +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
knit2html("PA1_template.Rmd")
p <- ggplot(data = stepsPerFiveMinIntv, aes(x = interval, y = steps)) +
geom_line() +
ggtitle(Avg Num Of Steps per 5 Min Period)
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p <- ggplot(data = stepsPerFiveMinIntv, aes(x = interval, y = steps)) +
geom_line() +
ggtitle("Avg Num Of Steps per 5 Min Period"")
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p
p
p <- ggplot(data = stepsPerFiveMinIntv, aes(x = interval, y = steps)) +
geom_line() +
ggtitle("Avg Num Of Steps per 5 Min Period"") +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p <- ggplot(data = stepsPerFiveMinIntv, aes(x = interval, y = steps)) +
geom_line() +
ggtitle("Avg Num Of Steps per 5 Min Period") +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1))
p
p <- ggplot(data = weekWeekendActivity, aes(x = interval, y = steps)) +
geom_line() +
ggtitle("Avg Num Of Steps per 5 Min Period") +
geom_line(stat = 'hline', yintercept = 'mean', color = 'blue', , linetype = 2) +
scale_x_continuous(breaks = seq(0,2355,100)) +
theme(axis.text.x = element_text(angle=90, vjust = 0.5, hjust = 1)) +
facet_wrap(~wday, ncol=1)
p
